import{u as V}from"./useClassComputed.D3OyU7_1.js";import{u as S}from"./useStyleComputed.DYexXzp7.js";import{p as _,Z as w,d as v,N as C,x as b,h as i,z as x,c as d,o as u,O as k,n as B,k as r,j as n,e as z,t as F,r as g}from"./framework.BWIYv-lY.js";const N={modelValue:{type:Boolean,default:!1},value:{type:[Boolean,String,Number],default:!1},size:{type:String,default:void 0},text:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},M=(e,s,t)=>{e("update:modelValue",s.value),t?.clearValidate?.()},j=()=>Promise.resolve(),D=e=>{e?.clearValidate?.()},I=(e,s,t)=>{if(e.value)return;const a=!s.value;t("update:modelValue",a)},E=(e,s,t,a)=>{e&&(_(()=>{e.addField?.({prop:s,resetField:t,validate:j,clearValidate:a})}),w(()=>{s&&e.removeField?.(s)}))};function O(e){const s=V({baseClass:"my-switch",propClasses:{size:e.size,disabled:e.disabled}}),t=S(e,{propToStyleMap:{text:"--my-switch-text"}});return{classSwitch:s,styleSwitch:t}}const T=["checked","disabled"],U={class:"slider"},Y={key:0,class:"slider-text"},Z={class:"text"},H=v({name:"MYSwitch",__name:"switch",props:N,emits:["update:modelValue"],setup(e,{emit:s}){const t=e,a=s,l=C("myFormItemContext",null),m=b(t.modelValue),o=i(()=>!!t.modelValue),c=i(()=>!!t.disabled),{classSwitch:p,styleSwitch:h}=O(t),f=()=>{I(c,o,a)};return E(l,l?.prop,()=>M(a,m,l),()=>D(l)),x(()=>t.modelValue,()=>{l?.clearValidate?.()}),(y,$)=>(u(),d("label",{class:B(["my-switch",[r(p),{"is-checked":o.value}]]),style:k(r(h))},[n("input",{type:"checkbox",hidden:"",checked:o.value,disabled:c.value,onInput:f},null,40,T),n("span",U,[t.text?(u(),d("span",Y,F(t.text),1)):z("",!0)]),n("span",Z,[g(y.$slots,"default")])],6))}});export{H as _};
