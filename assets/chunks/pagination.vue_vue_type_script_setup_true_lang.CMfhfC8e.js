import{h as C,d as B,k as p,o as r,c as o,n as h,G as S,H as P,O as N,e as b,t as z,a as I,j as M}from"./framework.BzrxsKI0.js";const j={total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},currentPage:{type:[Number,String],default:1},maxPagerCount:{type:[Number,String],default:7},layout:{type:String,default:"prev, pager, next"},pageSizes:{type:Array,default:()=>[]},background:{type:Boolean,default:!1},small:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},prneColor:{type:String,default:""},prneTextColor:{type:String,default:""},itemColor:{type:String,default:""},itemTextColor:{type:String,default:""},activeItemColor:{type:String,default:""},activeItemTextColor:{type:String,default:""}};function L(l,T){const n=C(()=>Math.ceil(Number(l.total)/Number(l.pageSize))),m=C(()=>{const u=[],v=Number(l.maxPagerCount),f=Math.floor(v/2),s=Number(l.currentPage);let d,g;n.value<=v?(d=1,g=n.value):s<=f?(d=1,g=v-2):s>=n.value-f?(d=n.value-v+3,g=n.value):(d=s-f+1,g=s+f-1),u.push(1),d>2&&u.push("...");for(let e=Math.max(2,d);e<=Math.min(n.value-1,g);e++)u.push(e);return g<n.value-1&&u.push("..."),n.value>1&&u.push(n.value),u}),y=C(()=>({backgroundColor:l.prneColor,color:l.prneTextColor})),k=C(()=>({backgroundColor:l.itemColor,color:l.itemTextColor})),c=C(()=>({backgroundColor:l.activeItemColor||l.itemColor,color:l.activeItemTextColor||l.itemTextColor}));return{totalPages:n,pagerList:m,stylePage:y,itemPageStyle:k,activeItemStyle:c}}const O=["disabled"],V={key:1,class:"pager"},$=["disabled","onClick"],G=["disabled"],w=["disabled","value"],A=["value"],D={key:4,class:"jumper"},E=["value","disabled"],F={key:5,class:"total"},Y=B({name:"MYPagination",__name:"pagination",props:j,emits:["update:current-page","update:page-size","change"],setup(l,{emit:T}){const n=l,m=T,y=C(()=>Number(n.currentPage)),{pagerList:k,totalPages:c,stylePage:u,itemPageStyle:v,activeItemStyle:f}=L(n),s=e=>{e>=1&&e<=c.value&&e!==y.value&&(m("update:current-page",e),m("change",e,n.pageSize))},d=e=>{const t=Number(e);m("update:page-size",t),m("update:current-page",1),m("change",1,t)},g=e=>{let t=Number(e);(isNaN(t)||t<1)&&(t=1),t>c.value&&(t=c.value),s(t)};return(e,t)=>!e.hideOnSinglePage||p(c)>1?(r(),o("div",{key:0,class:h(["my-pagination",{small:e.small,disabled:e.disabled}])},[(r(!0),o(S,null,P((e.layout||"").split(",").map(i=>i.trim()),i=>(r(),o(S,{key:i},[i==="prev"?(r(),o("button",{key:0,class:h(["btn-prev",{"has-background":e.background}]),disabled:y.value===1||e.disabled,onClick:t[0]||(t[0]=a=>s(y.value-1)),style:N(p(u))}," Prev ",14,O)):b("",!0),i==="pager"?(r(),o("div",V,[(r(!0),o(S,null,P(p(k),a=>(r(),o("button",{key:a,class:h(["pager-item",{active:e.currentPage===a,"has-background":e.background}]),disabled:e.disabled,onClick:H=>a!=="..."&&s(Number(a)),style:N(e.currentPage===a?p(f):p(v))},z(a),15,$))),128))])):b("",!0),i==="next"?(r(),o("button",{key:2,class:h(["btn-next",{"has-background":e.background}]),disabled:e.currentPage===p(c)||e.disabled,onClick:t[1]||(t[1]=a=>s(y.value+1)),style:N(p(u))}," Next ",14,G)):b("",!0),i==="sizes"&&e.pageSizes.length?(r(),o("select",{key:3,class:"page-sizes",disabled:e.disabled,value:e.pageSize,onChange:t[2]||(t[2]=a=>d(a.target.value))},[(r(!0),o(S,null,P(e.pageSizes,a=>(r(),o("option",{key:a,value:a},z(a)+" / page ",9,A))),128))],40,w)):b("",!0),i==="jumper"?(r(),o("div",D,[t[4]||(t[4]=I(" Go to ",-1)),M("input",{type:"number",value:e.currentPage,disabled:e.disabled,onChange:t[3]||(t[3]=a=>g(a.target.value))},null,40,E)])):b("",!0),i==="total"?(r(),o("span",F,"Total: "+z(e.total),1)):b("",!0)],64))),128))],2)):b("",!0)}});export{Y as _};
