import{h as f,d as T,c as r,e as p,k as y,o,n as C,G as P,H as k,O as S,t as z,a as B,j as I}from"./framework.CnxbpgSG.js";const M={total:{type:Number,default:0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},maxPagerCount:{type:Number,default:7},layout:{type:String,deefault:"prev, pager, next"},pageSizes:{type:Array,default:()=>[]},background:{type:Boolean,default:!1},small:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},prneColor:{type:String,default:""},prneTextColor:{type:String,default:""},itemColor:{type:String,default:""},itemTextColor:{type:String,default:""},activeItemColor:{type:String,default:""},activeItemTextColor:{type:String,default:""}};function j(a,N){const n=f(()=>Math.ceil(a.total/a.pageSize)),c=f(()=>{const i=[],b=a.maxPagerCount,u=Math.floor(b/2);let d,g;n.value<=b?(d=1,g=n.value):a.currentPage<=u?(d=1,g=b-2):a.currentPage>=n.value-u?(d=n.value-b+3,g=n.value):(d=a.currentPage-u+1,g=a.currentPage+u-1),i.push(1),d>2&&i.push("...");for(let e=Math.max(2,d);e<=Math.min(n.value-1,g);e++)i.push(e);return g<n.value-1&&i.push("..."),n.value>1&&i.push(n.value),i}),h=f(()=>({backgroundColor:a.prneColor,color:a.prneTextColor})),m=f(()=>({backgroundColor:a.itemColor,color:a.itemTextColor})),v=f(()=>({backgroundColor:a.activeItemColor||a.itemColor,color:a.activeItemTextColor||a.itemTextColor}));return{totalPages:n,pagerList:c,stylePage:h,itemPageStyle:m,activeItemStyle:v}}const L=["disabled"],O={key:1,class:"pager"},V=["disabled","onClick"],$=["disabled"],G=["disabled","value"],w=["value"],A={key:4,class:"jumper"},D=["value","disabled"],E={key:5,class:"total"},J=T({name:"MYPagination",__name:"pagination",props:M,emits:["update:current-page","update:page-size","change"],setup(a,{emit:N}){const n=a,c=N,{pagerList:h,totalPages:m,stylePage:v,itemPageStyle:i,activeItemStyle:b}=j(n),u=e=>{e>=1&&e<=m.value&&e!==n.currentPage&&(c("update:current-page",e),c("change",e,n.pageSize))},d=e=>{const t=Number(e);c("update:page-size",t),c("update:current-page",1),c("change",1,t)},g=e=>{let t=Number(e);(isNaN(t)||t<1)&&(t=1),t>m.value&&(t=m.value),u(t)};return(e,t)=>!e.hideOnSinglePage||y(m)>1?(o(),r("div",{key:0,class:C(["my-pagination",{small:e.small,disabled:e.disabled}])},[(o(!0),r(P,null,k((e.layout||"").split(",").map(s=>s.trim()),s=>(o(),r(P,{key:s},[s==="prev"?(o(),r("button",{key:0,class:C(["btn-prev",{"has-background":e.background}]),disabled:e.currentPage===1||e.disabled,onClick:t[0]||(t[0]=l=>u(e.currentPage-1)),style:S(y(v))}," Prev ",14,L)):p("",!0),s==="pager"?(o(),r("div",O,[(o(!0),r(P,null,k(y(h),l=>(o(),r("button",{key:l,class:C(["pager-item",{active:e.currentPage===l,"has-background":e.background}]),disabled:e.disabled,onClick:F=>l!=="..."&&u(Number(l)),style:S(e.currentPage===l?y(b):y(i))},z(l),15,V))),128))])):p("",!0),s==="next"?(o(),r("button",{key:2,class:C(["btn-next",{"has-background":e.background}]),disabled:e.currentPage===y(m)||e.disabled,onClick:t[1]||(t[1]=l=>u(e.currentPage+1)),style:S(y(v))}," Next ",14,$)):p("",!0),s==="sizes"&&e.pageSizes.length?(o(),r("select",{key:3,class:"page-sizes",disabled:e.disabled,value:e.pageSize,onChange:t[2]||(t[2]=l=>d(l.target.value))},[(o(!0),r(P,null,k(e.pageSizes,l=>(o(),r("option",{key:l,value:l},z(l)+" / page ",9,w))),128))],40,G)):p("",!0),s==="jumper"?(o(),r("div",A,[t[4]||(t[4]=B(" Go to ",-1)),I("input",{type:"number",value:e.currentPage,disabled:e.disabled,onChange:t[3]||(t[3]=l=>g(l.target.value))},null,40,D)])):p("",!0),s==="total"?(o(),r("span",E,"Total: "+z(e.total),1)):p("",!0)],64))),128))],2)):p("",!0)}});export{J as _};
