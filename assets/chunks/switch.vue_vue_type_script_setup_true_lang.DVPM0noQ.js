import{u as w}from"./useClassComputed.XPUKWacB.js";import{u as v}from"./useStyleComputed.BZuPLADM.js";import{p as C,Z as b,d as x,N as k,x as B,h as d,z as F,c as u,o as r,O as g,n as z,k as m,j as c,e as N,t as M,r as j}from"./framework.D3tsReks.js";const D={modelValue:{type:Boolean,default:!1},value:{type:[Boolean,String,Number],default:!1},size:{type:String,default:void 0},text:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},I=()=>Promise.resolve(),p=e=>{e?.clearValidate?.()},E=(e,s,t,a)=>{e&&(C(()=>{e.addField?.({prop:s,resetField:t,validate:I,clearValidate:a})}),b(()=>{s&&e.removeField?.(s)}))};function O(e){const s=w({baseClass:"my-switch",propClasses:{size:e.size,disabled:e.disabled}}),t=v(e,{propToStyleMap:{text:"--my-switch-text"}});return{classSwitch:s,styleSwitch:t}}const T=["checked","disabled"],U={class:"slider"},Y={key:0,class:"slider-text"},Z={class:"text"},H=x({name:"MYSwitch",__name:"switch",props:D,emits:["update:modelValue","change"],setup(e,{emit:s}){const t=e,a=s,l=k("myFormItemContext",null),h=B(t.modelValue),n=d(()=>!!t.modelValue),i=d(()=>!!t.disabled),{classSwitch:f,styleSwitch:y}=O(t),V=()=>{if(i.value)return;const o=!n.value;a("update:modelValue",o),a("change",o)},S=()=>{a("update:modelValue",h.value),p(l)},_=()=>{p(l)};return E(l,l?.prop,S,_),F(()=>t.modelValue,()=>{l?.clearValidate?.()}),(o,$)=>(r(),u("label",{class:z(["my-switch",[m(f),{"is-checked":n.value}]]),style:g(m(y))},[c("input",{type:"checkbox",hidden:"",checked:n.value,disabled:i.value,onChange:V},null,40,T),c("span",U,[t.text?(r(),u("span",Y,M(t.text),1)):N("",!0)]),c("span",Z,[j(o.$slots,"default")])],6))}});export{H as _};
