import{d as I,x as _,p as C,R as v,z as k,c as P,o as S,a1 as x,am as A,j as T,I as f,ah as b,J as m,w as y}from"./chunks/framework.CMpBhb2-.js";import{u as E}from"./chunks/useColorUtils.d5FwcDFc.js";const N={class:"color-picker"},w=I({__name:"pickColor",props:{modelValue:{type:String,default:"#409EFF"},rgba:{type:[String,Number],default:1}},emits:["update:modelValue","change"],setup(u,{emit:c}){const l=u,s=c,r=_(l.modelValue);C(async()=>{await v(),requestAnimationFrame(()=>{try{let t=l.modelValue;if(!t||t==="#409EFF"){const a=localStorage.getItem("layout-setting");if(a){const o=JSON.parse(a);o.theme&&(t=o.theme)}}r.value=t,p(t)}catch(t){console.error("Failed to load theme from localStorage",t)}})}),k(()=>l.modelValue,t=>{t!==r.value&&(r.value=t)}),k(r,t=>{s("update:modelValue",t),s("change",t),p(t)},{immediate:!0});function p(t){if(!t)return;const{r:a,g:o,b:i,a:n}=V(t),e=`rgba(${a}, ${o}, ${i}, ${n})`;document.documentElement.style.setProperty("--app-primary-color",e),document.documentElement.style.setProperty("--el-color-primary",e),document.documentElement.style.setProperty("--myswitch-active",e);const F=.299*a+.587*o+.114*i>186?"#000":"#fff";document.documentElement.style.setProperty("--on-primary-text",F);try{let d={};const g=localStorage.getItem("layout-setting");g&&(d=JSON.parse(g)),Object.assign(d,{theme:t}),localStorage.setItem("layout-setting",JSON.stringify(d))}catch(d){console.error("Failed to save theme to localStorage",d)}}function h(){}function V(t){let a=64,o=158,i=255,n=1;if(/^#([0-9a-fA-F]{3,8})$/.test(t)){let e=t.replace("#","");e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length>=6&&(a=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16)),e.length===8?n=parseInt(e.slice(6,8),16)/255:n=parseFloat(String(l.rgba))||1}else{const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)/);e&&(a=parseInt(e[1]),o=parseInt(e[2]),i=parseInt(e[3]),n=e[4]?parseFloat(e[4]):parseFloat(String(l.rgba))||1)}return{r:a,g:o,b:i,a:n}}return(t,a)=>(S(),P("div",N,[x(T("input",{type:"color","onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),onInput:h},null,544),[[A,r.value]])]))}}),$=JSON.parse('{"title":"PickColor","description":"","frontmatter":{},"headers":[],"relativePath":"components/FormPickColor.md","filePath":"components/FormPickColor.md"}'),B={name:"components/FormPickColor.md"},J=Object.assign(B,{setup(u){const c=_("#409EFF");return C(()=>{const{applyGlobalColor:l}=E();l(c.value,"--global-primary-color")}),(l,s)=>{const r=f("ClientOnly"),p=f("ShowCode");return S(),P("div",null,[s[1]||(s[1]=b('<h1 id="pickcolor" tabindex="-1">PickColor <a class="header-anchor" href="#pickcolor" aria-label="Permalink to “PickColor”">​</a></h1><h2 id="简易介绍" tabindex="-1">简易介绍 <a class="header-anchor" href="#简易介绍" aria-label="Permalink to “简易介绍”">​</a></h2><p>pickColor颜色选择器组件，用于用户选择颜色。<br> 可以使用<code>&lt;MYSelect-color&gt;&lt;/MYSelect-color&gt;</code>或者<code>&lt;MYSelect-color /&gt;</code>来实现一个颜色选择器</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to “基础用法”">​</a></h2><p>使用<code>v-model</code>绑定颜色值，默认颜色为黑色（<code>#000000</code>）。</p>',5)),m(p,{title:"代码演示",code:`
<template>
    <MYSelect-color v-model='colorValue' />
</template>
  `.trim()},{demo:y(()=>[m(r,null,{default:y(()=>[m(w,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=h=>c.value=h)},null,8,["modelValue"])]),_:1})]),_:1},8,["code"]),s[2]||(s[2]=b(`<h2 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to “API 参考”">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to “Props”">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>modelValue</td><td>绑定值</td><td>string</td><td>—</td><td><code>#000000</code></td></tr></tbody></table><h3 id="类型定义" tabindex="-1">类型定义 <a class="header-anchor" href="#类型定义" aria-label="Permalink to “类型定义”">​</a></h3><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PickColorProps</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  modelValue</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,5))])}}});export{$ as __pageData,J as default};
