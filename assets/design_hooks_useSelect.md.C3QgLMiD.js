import{_ as t,c as o,o as d,ah as a}from"./chunks/framework.D3tsReks.js";const p=JSON.parse('{"title":"useSelectComputed","description":"","frontmatter":{},"headers":[],"relativePath":"design/hooks/useSelect.md","filePath":"design/hooks/useSelect.md"}'),l={name:"design/hooks/useSelect.md"};function r(c,e,s,i,n,h){return d(),o("div",null,[...e[0]||(e[0]=[a('<h1 id="useselectcomputed" tabindex="-1">useSelectComputed <a class="header-anchor" href="#useselectcomputed" aria-label="Permalink to “useSelectComputed”">​</a></h1><h3 id="useselectcomputed-通用下拉选择器交互-hook" tabindex="-1">useSelectComputed：通用下拉选择器交互 Hook <a class="header-anchor" href="#useselectcomputed-通用下拉选择器交互-hook" aria-label="Permalink to “useSelectComputed：通用下拉选择器交互 Hook”">​</a></h3><h2 id="痛点来源" tabindex="-1">痛点来源 <a class="header-anchor" href="#痛点来源" aria-label="Permalink to “痛点来源”">​</a></h2><p>下拉选择器（Select、Dropdown 等）是交互频率极高的表单控件，但其核心交互逻辑在多个组件中高度重复：</p><ul><li>需要管理下拉面板的显示/隐藏状态</li><li>处理焦点状态（focused）以支持样式变化与键盘交互</li><li>实现点击外部区域自动关闭（click outside）</li><li>禁用状态下阻止所有交互</li><li>外部 v-model 变化时需同步内部状态</li><li>事件监听需在组件生命周期内正确添加与移除，避免内存泄漏</li></ul><p>如果每个 Select 类组件都独立实现这些逻辑，不仅代码冗余，还容易出现：</p><ul><li>点击外部关闭失效或误触发</li><li>事件监听未正确卸载导致内存泄漏</li><li>禁用状态处理不一致</li><li>焦点与下拉状态不同步</li></ul><h2 id="设计目标" tabindex="-1">设计目标 <a class="header-anchor" href="#设计目标" aria-label="Permalink to “设计目标”">​</a></h2><p><code>useSelect</code> 的目标是：<strong>提供一套轻量、通用、可复用的下拉交互管理方案</strong>，将 Select 类组件的显示、焦点、点击外部关闭等核心交互逻辑完全抽象出来，让组件只需关注选项渲染与值选中逻辑。</p><h2 id="核心特性" tabindex="-1">核心特性 <a class="header-anchor" href="#核心特性" aria-label="Permalink to “核心特性”">​</a></h2><table tabindex="0"><thead><tr><th>特性</th><th>说明</th></tr></thead><tbody><tr><td><strong>响应式下拉状态</strong></td><td><code>dropdownVisible</code> 为 <code>ref&lt;boolean&gt;</code>，实时控制面板显示</td></tr><tr><td><strong>焦点状态管理</strong></td><td><code>isFocused</code> 支持样式（如边框高亮）与键盘导航基础</td></tr><tr><td><strong>点击外部自动关闭</strong></td><td>通过全局 <code>click</code> 事件监听实现，基于选择器 <code>.select-e</code> 判断（可自定义）</td></tr><tr><td><strong>禁用状态安全防护</strong></td><td>所有交互入口（如 toggle）优先检查 <code>disabled</code>，防止误操作</td></tr><tr><td><strong>生命周期自动管理</strong></td><td><code>onMounted</code> 添加监听，<code>onUnmounted</code> 自动移除，无需手动处理</td></tr><tr><td><strong>外部 modelValue 监听</strong></td><td>预留 <code>watch</code> 位点，便于同步选中标签或其他衍生状态</td></tr><tr><td><strong>泛型类型安全</strong></td><td>支持任意类型 <code>T</code> 的 <code>modelValue</code>，完美适配 string、number、object 等</td></tr></tbody></table><h2 id="设计价值" tabindex="-1">设计价值 <a class="header-anchor" href="#设计价值" aria-label="Permalink to “设计价值”">​</a></h2><p>useSelect 将 Select 类组件中最易出错、最重复的交互控制逻辑彻底剥离，使组件实现变得简洁而可靠：</p><p>所有 Select、Cascader、TreeSelect 等下拉类组件可共享同一套交互行为，确保体验高度一致 点击外部关闭逻辑集中管理，避免各组件重复实现且易遗漏卸载 焦点与禁用状态统一处理，支持无障碍与视觉反馈 组件模板只需关注“展示”与“选项选择”，交互细节完全交给 Hook 为后续扩展（如键盘导航、搜索过滤）预留清晰空间</p><p>它再次印证了我们的核心理念：通用交互模式不应散落在组件中，而应被提炼为专注的 Hook，让每个组件都更纯粹、更易维护。 用最简洁的交互管理，支撑最丰富的选择体验。</p>',15)])])}const m=t(l,[["render",r]]);export{p as __pageData,m as default};
