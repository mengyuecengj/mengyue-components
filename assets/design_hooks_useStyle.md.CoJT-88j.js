import{_ as t,c as o,o as d,ah as r}from"./chunks/framework.D3tsReks.js";const u=JSON.parse('{"title":"useStyleComputed","description":"","frontmatter":{},"headers":[],"relativePath":"design/hooks/useStyle.md","filePath":"design/hooks/useStyle.md"}'),a={name:"design/hooks/useStyle.md"};function s(l,e,i,c,p,n){return d(),o("div",null,[...e[0]||(e[0]=[r('<h1 id="usestylecomputed" tabindex="-1">useStyleComputed <a class="header-anchor" href="#usestylecomputed" aria-label="Permalink to “useStyleComputed”">​</a></h1><h2 id="动态样式计算-hook" tabindex="-1">动态样式计算 Hook <a class="header-anchor" href="#动态样式计算-hook" aria-label="Permalink to “动态样式计算 Hook”">​</a></h2><h3 id="痛点来源" tabindex="-1">痛点来源 <a class="header-anchor" href="#痛点来源" aria-label="Permalink to “痛点来源”">​</a></h3><p>在开发 UI 组件的过程中，另一个高频重复工作是根据 props 动态生成内联样式（inline style）。常见场景包括：</p><ul><li><code>size=&quot;large&quot;</code> → 需要设置更大的 <code>font-size</code>、<code>padding</code> 等</li><li><code>width={200}</code> 或 <code>width=&quot;200px&quot;</code> → 需要正确转换为像素值</li><li>组件需要统一注入 CSS 变量（如 <code>--primary-color</code>）</li><li>某些样式需要复杂的组合逻辑（如根据多个 props 计算 <code>border-radius</code>）</li></ul><p>如果每个组件都手动在模板或 setup 中拼接 style 对象，不仅代码冗余，还容易出现：</p><ul><li>单位处理不一致（数字未加 <code>px</code>）</li><li>类型判断遗漏</li><li>CSS 变量管理散乱</li><li>自定义样式逻辑难以扩展</li></ul><h2 id="设计目标" tabindex="-1">设计目标 <a class="header-anchor" href="#设计目标" aria-label="Permalink to “设计目标”">​</a></h2><p><code>useStyleComputed</code> 的目标是：<strong>提供一套统一、类型安全、可配置的内联样式计算机制</strong>，将所有样式相关的逻辑从组件中彻底剥离，让组件只需关注结构与行为。</p><h2 id="核心特性" tabindex="-1">核心特性 <a class="header-anchor" href="#核心特性" aria-label="Permalink to “核心特性”">​</a></h2><table tabindex="0"><thead><tr><th>特性</th><th>说明</th></tr></thead><tbody><tr><td><strong>响应式输出</strong></td><td>返回 <code>ComputedRef&lt;CSSProperties&gt;</code>，随 props 变化自动更新样式对象</td></tr><tr><td><strong>属性到样式的映射</strong></td><td>通过 <code>propToStyleMap</code> 将 props 直接映射为 CSS 属性，支持常见尺寸自动加 <code>px</code></td></tr><tr><td><strong>智能单位处理</strong></td><td>对 <code>fontSize</code>、<code>width</code>、<code>height</code> 等属性，自动将数字转换为 <code>px</code> 字符串</td></tr><tr><td><strong>CSS 变量支持</strong></td><td>通过 <code>cssVariables</code> 统一注入自定义 CSS 变量，便于主题系统使用</td></tr><tr><td><strong>自定义扩展</strong></td><td><code>customStyleLogic</code> 回调允许注入复杂样式计算逻辑（如多 props 组合）</td></tr><tr><td><strong>类型安全</strong></td><td>泛型 <code>&lt;T&gt;</code> 与组件 props 强绑定，提供完整的 TypeScript 类型提示</td></tr><tr><td><strong>明确边界</strong></td><td>只负责计算 style 对象，不涉及类名、不操作 DOM、不处理媒体查询</td></tr></tbody></table><h2 id="设计价值" tabindex="-1">设计价值 <a class="header-anchor" href="#设计价值" aria-label="Permalink to “设计价值”">​</a></h2><p>useStyleComputed 与 useClassComputed 形成类名与内联样式的双剑合璧：</p><p>useClassComputed 负责结构化、可主题覆盖的 BEM 类名（表现层主力） useStyleComputed 负责动态、精确、难以通过类名实现的内联样式（逻辑层补充）</p><p>通过这一 Hook，整个组件库实现了：</p><p>样式逻辑高度集中，避免散落各组件导致的不一致 单位与类型处理统一，杜绝低级错误 CSS 变量规范注入，便于主题系统与动态样式深度融合 复杂样式组合轻松扩展，而不污染组件主逻辑 组件模板极致简洁，仅需一行 :style 绑定</p><p>它完美契合“层分离”思想：视觉表现不再是组件的负担，而是由专用 Hook 统一承接，让每个组件都能以最纯粹的姿态专注于交互与结构。 用最灵活的配置，生成最精确的动态样式。</p>',17)])])}const S=t(a,[["render",s]]);export{u as __pageData,S as default};
