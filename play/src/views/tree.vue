<template>
  <div style="background: #1e1e1e; padding: 20px; min-height: 100vh; color: white">
    <MYButton type="success" @click="navigateTo('/')">è¿”å›ž/é¦–é¡µ</MYButton>
    <h2>ðŸ§© æš—è‰²é£Žæ ¼æ ‘å½¢æŽ§ä»¶ç¤ºä¾‹</h2>

    <MYTree :data="testData" :props="testProps" @node-click="handleNodeClick" />
  </div>
</template>

<script lang="ts" setup>
import { useRouter } from 'vue-router'
const router = useRouter()

const navigateTo = (path: any) => {
  router.push(path)
}
interface TreeNode {
  label: string
  children?: TreeNode[]
  id?: string | number
}

interface TreeProps {
  children: string
  label: string
}

const testData: TreeNode[] = [
  {
    label: 'ðŸŒ² æ ¹èŠ‚ç‚¹ 1',
    id: '1',
    children: [
      {
        label: 'ðŸ“ å­èŠ‚ç‚¹ 1-1',
        id: '1-1'
      },
      {
        label: 'ðŸ“ å­èŠ‚ç‚¹ 1-2',
        id: '1-2',
        children: [
          { label: 'ðŸ“„ å­èŠ‚ç‚¹ 1-2-1', id: '1-2-1' }
        ]
      }
    ]
  },
  {
    label: 'ðŸŒ² æ ¹èŠ‚ç‚¹ 2',
    id: '2'
  }
]

const testProps: TreeProps = {
  children: 'children',
  label: 'label'
}

const handleNodeClick = (node: TreeNode) => {
  console.log('èŠ‚ç‚¹ç‚¹å‡»:', node)
}
</script>
